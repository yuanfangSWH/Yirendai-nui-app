(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-personal-information-information"],{"0455":function(t,i,e){"use strict";var a=e("1370"),n=e.n(a);n.a},"0f04":function(t,i,e){"use strict";function a(t){return new Promise(function(i,e){if("object"===typeof window&&"document"in window){var a=document.createElement("canvas"),n=a.getContext("2d"),o=new Image;return o.onload=function(){a.width=o.width,a.height=o.height,n.drawImage(o,0,0),i(a.toDataURL())},o.onerror=e,void(o.src=t)}if("object"!==typeof plus)"object"===typeof wx&&wx.canIUse("getFileSystemManager")?wx.getFileSystemManager().readFile({filePath:t,encoding:"base64",success:function(t){i("data:image/png;base64,"+t.data)},fail:function(t){e(t)}}):e(new Error("not support"));else{var s=new plus.nativeObj.Bitmap("bitmap"+Date.now());s.load(t,function(){try{var t=s.toBase64Data()}catch(a){e(a)}s.clear(),i(t)},function(t){s.clear(),e(t)})}})}function n(t){return new Promise(function(i,e){if("object"===typeof window&&"document"in window){t=t.split(",");var a=t[0].match(/:(.*?);/)[1],n=atob(t[1]),o=n.length,s=new Uint8Array(o);while(o--)s[o]=n.charCodeAt(o);return i((window.URL||window.webkitURL).createObjectURL(new Blob([s],{type:a})))}var c=t.match(/data\:\S+\/(\S+);/);c?c=c[1]:e(new Error("base64 error"));var l=Date.now()+"."+c;if("object"!==typeof plus)if("object"===typeof wx&&wx.canIUse("getFileSystemManager")){var r=wx.env.USER_DATA_PATH+"/"+l;wx.getFileSystemManager().writeFile({filePath:r,data:t.replace(/^data:\S+\/\S+;base64,/,""),encoding:"base64",success:function(){i(r)},fail:function(t){e(t)}})}else e(new Error("not support"));else{var u=new plus.nativeObj.Bitmap("bitmap"+Date.now());u.loadBase64Data(t,function(){var t="_doc/uniapp_temp/"+l;u.save(t,{},function(){u.clear(),i(t)},function(t){u.clear(),e(t)})},function(t){u.clear(),e(t)})}})}Object.defineProperty(i,"__esModule",{value:!0}),i.pathToBase64=a,i.base64ToPath=n},1370:function(t,i,e){var a=e("3725");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("085c02e0",a,!0,{sourceMap:!1,shadowMode:!1})},3725:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".n_border[data-v-b04584d2]{border:none!important;color:#b4b6bd!important}.melph[data-v-b04584d2]{padding-left:10px;padding-right:10px}.play[data-v-b04584d2]{top:50%;animation:play-data-v-b04584d2 .5s;-moz-animation:play-data-v-b04584d2 .5s; /* Firefox */-webkit-animation:play-data-v-b04584d2 .5s; /* Safari 和 Chrome */-o-animation:play-data-v-b04584d2 .5s}@keyframes play-data-v-b04584d2{0%{top:-200%}to{top:50%}}@-moz-keyframes play-data-v-b04584d2{0%{top:-200%}to{top:50%}}@-webkit-keyframes play-data-v-b04584d2{0%{top:-200%}to{top:50%}}@-o-keyframes play-data-v-b04584d2{0%{top:-200%}to{top:50%}}.implicit[data-v-b04584d2]{top:-200%;animation:implicit-data-v-b04584d2 1s;-moz-animation:implicit-data-v-b04584d2 1s; /* Firefox */-webkit-animation:implicit-data-v-b04584d2 1s; /* Safari 和 Chrome */-o-animation:implicit-data-v-b04584d2 1s}@keyframes implicit-data-v-b04584d2{0%{top:50%}to{top:-200%}}@-moz-keyframes implicit-data-v-b04584d2{0%{top:50%}to{top:-200%}}@-webkit-keyframes implicit-data-v-b04584d2{0%{top:50%}to{top:-200%}}@-o-keyframes implicit-data-v-b04584d2{0%{top:50%}to{top:-200%}}",""])},"736f":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=o(e("eaef")),n=e("0f04");function o(t){return t&&t.__esModule?t:{default:t}}var s={data:function(){return{Theuser:[],memberId:"",portraitData:"",options:!1,isActive1:!1,isActive2:!1,yzmZJ:!0,isActive:!1,countdown:1,animation:"获取验证码",mobile1:"",mobile2:"",mobilecaptcha:"",hypocrisy:!1,re:/^1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/}},onLoad:function(){this.pullData()},methods:{pullData:function(){var t=this;a.default.apiPost("/member/userinfo","","","get",function(i,e){i?(t.Theuser=e.data,t.memberId=t.Theuser.member_id,t.portraitData=t.Theuser.member_avatar):uni.showToast({title:"数据获取失败",icon:"none",duration:2e3})})},exit:function(){uni.setStorageSync("landing",""),uni.setStorageSync("SessionId",""),uni.reLaunch({url:"/pages/login/login"})},choosetx:function(){var t=this,i=this;uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(t){i.portraitData=t.tempFilePaths}}),(0,n.pathToBase64)(this.portraitData).then(function(i){t.portraitData=i,t.portrait()})},portrait:function(){var t=this;if(""==this.portraitData)uni.showToast({title:"头像图片不符合规范",icon:"none",duration:2e3});else{var i={img_base64:this.portraitData},e="?img_base64="+this.portraitData;a.default.apiPost("/member/updateavatar",e,i,"post",function(i,e){i?(uni.showToast({title:"修改头像成功",icon:"none",duration:2e3}),t.callData()):uni.showToast({title:"提交修改失败",icon:"none",duration:2e3})})}},callData:function(){var t=this;a.default.apiPost("/member/getuserinfo","","","post",function(i,e){i?(uni.setStorageSync("landing",e.data),t.pullData()):(uni.showToast({title:"未知错误",icon:"none",duration:2e3}),uni.reLaunch({url:"/pages/login/login"}))})},updatename:function(){uni.navigateTo({url:"/pages/personal/updatename/updatename?nickname="+this.Theuser.member_name})},updatewxname:function(){uni.navigateTo({url:"/pages/personal/updatewxname/updatewxname?wechat="+this.Theuser.member_wx})},change:function(t){uni.navigateTo({url:"/pages/personal/changemi/changemi"})},aliacc:function(){uni.navigateTo({url:"/pages/personal/aliacc/aliacc"})},showUpdateNum:function(t){1==t?(this.isActive2=!1,this.isActive1=!0,this.options=!0):(this.isActive1=!1,this.isActive2=!0,this.options=!1)},takeGL:function(){1==this.yzmZJ&&this.filterData(1)},filterData:function(t){1==t?""===this.mobile1?uni.showToast({title:"原手机号不能为空",icon:"none",duration:2e3}):this.re.test(this.mobile1)?""===this.mobile2?uni.showToast({title:"新手机号不能为空",icon:"none",duration:2e3}):this.re.test(this.mobile2)?this.validation1():uni.showToast({title:"新手机号格式错误",icon:"none",duration:2e3}):uni.showToast({title:"原手机号格式错误",icon:"none",duration:2e3}):""===this.mobile1?uni.showToast({title:"原手机号不能为空",icon:"none",duration:2e3}):this.re.test(this.mobile1)?""===this.mobile2?uni.showToast({title:"新手机号不能为空",icon:"none",duration:2e3}):this.re.test(this.mobile2)?""===this.mobilecaptcha?uni.showToast({title:"验证码不能为空",icon:"none",duration:2e3}):this.hypocrisy?uni.showToast({title:"原手机号验证未通过",icon:"none",duration:2e3}):this.submityzm():uni.showToast({title:"新手机号格式错误",icon:"none",duration:2e3}):uni.showToast({title:"原手机号格式错误",icon:"none",duration:2e3})},validation1:function(){var t=this,i={mobile:this.mobile1},e="?mobile="+this.mobile1;a.default.apiPost("/member/updatephone1",e,i,"post",function(i,e){i?(t.hypocrisy=!0,t.validation2()):(t.hypocrisy=!1,uni.showToast({title:"原手机号填写错误，不存在",icon:"none",duration:2e3}))})},setTime:function(){var t=this;0==this.countdown?(this.countdown=60,this.yzmZJ=!0,this.isActive=!1,this.animation="获取验证码"):(this.animation="剩余"+this.countdown+"秒",this.countdown--,this.yzmZJ=!1,this.isActive=!0,setTimeout(function(){t.setTime()},1e3))},validation2:function(){var t=this,i={mobile:this.mobile2},e="?mobile="+this.mobile2;a.default.apiPost2("/member/updatephone1","?type=new",e,i,"post",function(i,e){if(i){t.setTime();var a=e.data.message;uni.showToast({title:a,icon:"none",duration:2e3})}else uni.showToast({title:"获取验证码失败，请重试",icon:"none",duration:2e3})})},submityzm:function(){var t=this,i={mobile:this.mobile2,mobilecaptcha:this.mobilecaptcha},e="?mobile="+this.mobile2+"&mobilecaptcha="+this.mobilecaptcha;a.default.apiPost2("/member/updatephone2","?type=new",e,i,"post",function(i,e){if(i){var a=e.data.message;uni.showToast({title:a,icon:"none",duration:2e3}),t.isActive1=!1,t.isActive2=!0,t.options=!1,t.pullData()}else uni.showToast({title:"修改手机号失败，请重试",icon:"none",duration:2e3})})},setregister:function(){uni.navigateTo({url:"/pages/personal/setregister/setregister"})}}};i.default=s},a5f7:function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",[a("v-uni-view",{staticClass:"editprofile-box"},[a("v-uni-view",{staticClass:"edit-ple-box"},[a("v-uni-view",{staticClass:"edit-list-li",staticStyle:{padding:"10px 30px 10px 20px"},on:{click:function(i){i=t.$handleEvent(i),t.choosetx()}}},[a("span",{staticClass:"wx-tl-xt",staticStyle:{"line-height":"50px"}},[t._v("头像")]),a("img",{staticClass:"wx-headig",attrs:{src:t.portraitData}}),a("img",{staticClass:"wx-jt",attrs:{src:e("b797")}})]),a("v-uni-view",{staticClass:"edit-list-li",on:{click:function(i){i=t.$handleEvent(i),t.updatename()}}},[a("span",[t._v("昵称")]),a("span",{staticClass:"cl-rg",attrs:{selectable:"true"}},[t._v(t._s(t.Theuser.member_name))]),a("img",{staticClass:"wx-jt",attrs:{src:e("b797")}})]),a("v-uni-view",{staticClass:"edit-list-li",on:{click:function(i){i=t.$handleEvent(i),t.updatewxname()}}},[a("span",[t._v("微信号")]),a("span",{staticClass:"cl-rg",attrs:{selectable:"true"}},[t._v(t._s(""==t.Theuser.member_wx?"未填写":t.Theuser.member_tj_id))]),a("img",{staticClass:"wx-jt",attrs:{src:e("b797")}})]),a("v-uni-view",{staticClass:"edit-list-li",on:{click:function(i){i=t.$handleEvent(i),t.showUpdateNum(1)}}},[a("span",[t._v("手机号码")]),a("span",{staticClass:"cl-rg dqhm"},[t._v(t._s(t.Theuser.member_mobile))]),a("img",{staticClass:"wx-jt",attrs:{src:e("b797")}})]),a("v-uni-view",{staticClass:"edit-list-li"},[a("span",[t._v("推荐人 ID")]),a("span",{staticClass:"cl-rg"},[t._v(t._s(0==t.Theuser.member_tj_id?"无推荐人":t.Theuser.member_tj_id))]),a("img",{staticClass:"wx-jt",attrs:{src:e("b797")}})])],1),a("v-uni-view",{staticClass:"edit-ple-box",staticStyle:{"margin-top":"15px"}},[a("v-uni-view",{staticClass:"edit-list-li",on:{click:function(i){i=t.$handleEvent(i),t.change()}}},[a("span",[t._v("修改密码")]),a("img",{staticClass:"wx-jt",attrs:{src:e("b797")}})]),a("v-uni-view",{staticClass:"edit-list-li",on:{click:function(i){i=t.$handleEvent(i),t.setregister()}}},[a("span",[t._v("消息开关")]),a("img",{staticClass:"wx-jt",attrs:{src:e("b797")}})])],1),a("v-uni-button",{staticClass:"btn-form",staticStyle:{"margin-top":"20px"},attrs:{type:"button",id:"btn_gm"},on:{click:function(i){i=t.$handleEvent(i),t.exit()}}},[t._v("退 出")]),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!!t.options,expression:"options ? true : false"}],staticClass:"model-mask"}),a("v-uni-view",{staticClass:"model",class:{play:!!t.isActive1,implicit:!!t.isActive2}},[a("v-uni-view",{staticClass:"model-top-box"},[t._v("修改手机号码")]),a("v-uni-view",{staticClass:"model-phone-box"},[a("v-uni-input",{staticClass:"melph",attrs:{type:"number",placeholder:"请输入您的原手机号码"},model:{value:t.mobile1,callback:function(i){t.mobile1=i},expression:"mobile1"}})],1),a("v-uni-view",{staticClass:"model-phone-box"},[a("v-uni-input",{staticClass:"melph",attrs:{type:"number",placeholder:"请输入您的新手机号码"},model:{value:t.mobile2,callback:function(i){t.mobile2=i},expression:"mobile2"}})],1),a("v-uni-view",{staticClass:"model-phone-box"},[a("v-uni-input",{staticClass:"melym",attrs:{type:"number",maxlength:"4",pattern:"[0-9]*",placeholder:"请输入短信验证码"},model:{value:t.mobilecaptcha,callback:function(i){t.mobilecaptcha=i},expression:"mobilecaptcha"}}),a("v-uni-button",{staticClass:"btn btn-warning",class:{n_border:!!t.isActive},attrs:{type:"button",id:"J_GetCode"},on:{click:function(i){i=t.$handleEvent(i),t.takeGL()}}},[t._v(t._s(t.animation))])],1),a("v-uni-view",{staticClass:"model-btn-box"},[a("v-uni-view",{staticClass:"remove wtann",on:{click:function(i){i=t.$handleEvent(i),t.showUpdateNum(2)}}},[t._v("取消")]),a("v-uni-view",{staticClass:"submin wtann",on:{click:function(i){i=t.$handleEvent(i),t.filterData(2)}}},[t._v("提交")])],1)],1)],1)],1)},n=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return n})},b797:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAeCAMAAAASJ24jAAAASFBMVEUAAADg4+ng4+ng4+ng4+ng4+ng4+ng4+ng4+ng4+ng4+ng4+ng4+ng4+ng4+ng4+ng4+ng4+ng4+ng4+ng4+ng4+ng4+ng4+ky+Nd2AAAAF3RSTlMA3hDv6CEZv575XlDPswmvgkc9OC2kZm57TvkAAABrSURBVBjTlY5JDoAwDAMbCIWythTw/38KxzpILLnN2IrsojSOroV6El6g3KkEtbdGjVFoxX9qCJvmo5nZBAhP3gLGmQ2syVfntmcnMQTEkg+gK7n/yQMwGV6e8mTyZPIMtCWvL+zUsOs75hPA9gZqj7X6HAAAAABJRU5ErkJggg=="},c51c:function(t,i,e){"use strict";e.r(i);var a=e("736f"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);i["default"]=n.a},ea89:function(t,i,e){"use strict";e.r(i);var a=e("a5f7"),n=e("c51c");for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);e("0455");var s=e("2877"),c=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"b04584d2",null);i["default"]=c.exports}}]);