(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/personal/information/information"],{"4b1e":function(t,e,i){"use strict";var o=i("c0b8"),n=i.n(o);n.a},"502f":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("eaef")),n=i("0f04");function a(t){return t&&t.__esModule?t:{default:t}}var s={data:function(){return{Theuser:[],memberId:"",portraitData:"",options:!1,isActive1:!1,isActive2:!1,yzmZJ:!0,isActive:!1,countdown:1,animation:"获取验证码",mobile1:"",mobile2:"",mobilecaptcha:"",hypocrisy:!1,re:/^1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/}},onLoad:function(){this.pullData()},methods:{pullData:function(){var e=this;o.default.apiPost("/member/userinfo","","","get",function(i,o){i?(e.Theuser=o.data,e.memberId=e.Theuser.member_id,e.portraitData=e.Theuser.member_avatar):t.showToast({title:"数据获取失败",icon:"none",duration:2e3})})},exit:function(){t.setStorageSync("landing",""),t.setStorageSync("SessionId",""),t.reLaunch({url:"/pages/login/login"})},choosetx:function(){var e=this,i=this;t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(t){i.portraitData=t.tempFilePaths}}),(0,n.pathToBase64)(this.portraitData).then(function(t){e.portraitData=t,e.portrait()})},portrait:function(){var e=this;if(""==this.portraitData)t.showToast({title:"头像图片不符合规范",icon:"none",duration:2e3});else{var i={img_base64:this.portraitData},n="?img_base64="+this.portraitData;o.default.apiPost("/member/updateavatar",n,i,"post",function(i,o){i?(t.showToast({title:"修改头像成功",icon:"none",duration:2e3}),e.callData()):t.showToast({title:"提交修改失败",icon:"none",duration:2e3})})}},callData:function(){var e=this;o.default.apiPost("/member/getuserinfo","","","post",function(i,o){i?(t.setStorageSync("landing",o.data),e.pullData()):(t.showToast({title:"未知错误",icon:"none",duration:2e3}),t.reLaunch({url:"/pages/login/login"}))})},updatename:function(){t.navigateTo({url:"/pages/personal/updatename/updatename?nickname="+this.Theuser.member_name})},updatewxname:function(){t.navigateTo({url:"/pages/personal/updatewxname/updatewxname?wechat="+this.Theuser.member_wx})},change:function(e){t.navigateTo({url:"/pages/personal/changemi/changemi"})},aliacc:function(){t.navigateTo({url:"/pages/personal/aliacc/aliacc"})},showUpdateNum:function(t){1==t?(this.isActive2=!1,this.isActive1=!0,this.options=!0):(this.isActive1=!1,this.isActive2=!0,this.options=!1)},takeGL:function(){1==this.yzmZJ&&this.filterData(1)},filterData:function(e){1==e?""===this.mobile1?t.showToast({title:"原手机号不能为空",icon:"none",duration:2e3}):this.re.test(this.mobile1)?""===this.mobile2?t.showToast({title:"新手机号不能为空",icon:"none",duration:2e3}):this.re.test(this.mobile2)?this.validation1():t.showToast({title:"新手机号格式错误",icon:"none",duration:2e3}):t.showToast({title:"原手机号格式错误",icon:"none",duration:2e3}):""===this.mobile1?t.showToast({title:"原手机号不能为空",icon:"none",duration:2e3}):this.re.test(this.mobile1)?""===this.mobile2?t.showToast({title:"新手机号不能为空",icon:"none",duration:2e3}):this.re.test(this.mobile2)?""===this.mobilecaptcha?t.showToast({title:"验证码不能为空",icon:"none",duration:2e3}):this.hypocrisy?t.showToast({title:"原手机号验证未通过",icon:"none",duration:2e3}):this.submityzm():t.showToast({title:"新手机号格式错误",icon:"none",duration:2e3}):t.showToast({title:"原手机号格式错误",icon:"none",duration:2e3})},validation1:function(){var e=this,i={mobile:this.mobile1},n="?mobile="+this.mobile1;o.default.apiPost("/member/updatephone1",n,i,"post",function(i,o){i?(e.hypocrisy=!0,e.validation2()):(e.hypocrisy=!1,t.showToast({title:"原手机号填写错误，不存在",icon:"none",duration:2e3}))})},setTime:function(){var t=this;0==this.countdown?(this.countdown=60,this.yzmZJ=!0,this.isActive=!1,this.animation="获取验证码"):(this.animation="剩余"+this.countdown+"秒",this.countdown--,this.yzmZJ=!1,this.isActive=!0,setTimeout(function(){t.setTime()},1e3))},validation2:function(){var e=this,i={mobile:this.mobile2},n="?mobile="+this.mobile2;o.default.apiPost2("/member/updatephone1","?type=new",n,i,"post",function(i,o){if(i){e.setTime();var n=o.data.message;t.showToast({title:n,icon:"none",duration:2e3})}else t.showToast({title:"获取验证码失败，请重试",icon:"none",duration:2e3})})},submityzm:function(){var e=this,i={mobile:this.mobile2,mobilecaptcha:this.mobilecaptcha},n="?mobile="+this.mobile2+"&mobilecaptcha="+this.mobilecaptcha;o.default.apiPost2("/member/updatephone2","?type=new",n,i,"post",function(i,o){if(i){var n=o.data.message;t.showToast({title:n,icon:"none",duration:2e3}),e.isActive1=!1,e.isActive2=!0,e.options=!1,e.pullData()}else t.showToast({title:"修改手机号失败，请重试",icon:"none",duration:2e3})})},setregister:function(){t.navigateTo({url:"/pages/personal/setregister/setregister"})}}};e.default=s}).call(this,i("6e42")["default"])},c0b8:function(t,e,i){},c51c:function(t,e,i){"use strict";i.r(e);var o=i("502f"),n=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);e["default"]=n.a},cbfa:function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,o=(t._self._c,i("b797")),n=i("b797"),a=i("b797"),s=i("b797"),r=i("b797"),c=i("b797"),u=i("b797");t.$mp.data=Object.assign({},{$root:{m0:o,m1:n,m2:a,m3:s,m4:r,m5:c,m6:u}})},n=[];i.d(e,"a",function(){return o}),i.d(e,"b",function(){return n})},ea89:function(t,e,i){"use strict";i.r(e);var o=i("cbfa"),n=i("c51c");for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);i("4b1e");var s=i("2877"),r=Object(s["a"])(n["default"],o["a"],o["b"],!1,null,null,null);e["default"]=r.exports}},[["cf64","common/runtime","common/vendor"]]]);