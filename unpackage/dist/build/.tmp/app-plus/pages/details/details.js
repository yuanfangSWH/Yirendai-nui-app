(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/details/details"],{"2dd7":function(t,a,i){"use strict";var n=i("5991"),e=i.n(n);e.a},5991:function(t,a,i){},"6d9f":function(t,a,i){"use strict";i.r(a);var n=i("9596"),e=i("a0c3");for(var o in e)"default"!==o&&function(t){i.d(a,t,function(){return e[t]})}(o);i("2dd7");var s=i("2877"),u=Object(s["a"])(e["default"],n["a"],n["b"],!1,null,null,null);a["default"]=u.exports},"8ebf":function(t,a,i){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,e=s(i("eaef")),o=s(i("68eb"));function s(t){return t&&t.__esModule?t:{default:t}}var u={data:function(){return{productID:"",product:[],highest:"",highestData:"",similar:[],JianData:[],bonus:1,ranking:[],limit:[],limitMC:"",monthData:"",rankingDate:"",calculateData:[],month:"",money:"",month_money:"",options:!0,isActive:!0,cWidth:"",cHeight:"",pixelRatio:1,Ring:{series:[{data:0},{data:0},{data:0},{data:0}]}}},onLoad:function(a){t.showLoading({title:"加载中"}),this.productID=a.id,this.pullData(),n=this,this.cWidth=t.upx2px(380),this.cHeight=t.upx2px(400)},onPullDownRefresh:function(){this.pullData(),setTimeout(function(){t.stopPullDownRefresh()},1e3)},methods:{optionsTBA:function(t){1==t?(this.options=!0,this.isActive=!0):(this.bonusData(),this.options=!1,this.isActive=!1)},pullData:function(){var a=this;e.default.apiPost("/agent/ag?id="+this.productID,"","","get",function(i,n){if(i){a.product=n.data,a.highest=n.data.ag_dkfw[1],a.similar=n.data.tj.slice(0,5),a.highestData=n.data.ag_dkfw[1];var e=n.data.ag_dkqx,o=e.split("-"),s=parseInt(o[0]),u=parseInt(o[1]);for(s;s<=u;s++)a.limit.push(s+"个月");a.monthData=1,setTimeout(function(){t.hideLoading()},300),a.interest()}else t.showToast({title:"数据获取失败",icon:"none",duration:2e3})})},bonusData:function(){var a=this;1===this.bonus&&(t.showLoading({title:"加载中"}),this.bonus=2,e.default.apiPost("/agent/agjiesuan?id="+this.productID,"","","get",function(i,n){i?(a.JianData=n.data.agent,setTimeout(function(){t.hideLoading()},300)):t.showToast({title:"数据获取失败",icon:"none",duration:2e3})}))},rankingData:function(){var a=this;""==this.ranking&&e.default.apiPost("/agent/ranking?id="+this.productID,"","","get",function(i,n){if(i){a.ranking=n.data.listTop;var e=n.data.month,o=e.split("-");a.rankingDate=o[0]+"年"+o[1]+"月"}else t.showToast({title:"数据获取失败",icon:"none",duration:2e3})})},limitData:function(t){var a=t.target.value;this.monthData=parseInt(a)+1,this.interest()},moneyData:function(){this.highestData>this.highest?(this.highestData=this.highest,t.showToast({title:"金额输入超过额度上限",icon:"none",duration:2e3})):this.interest()},interest:function(){var a=this,i={month:this.monthData,money:this.highestData,month_money:this.product.ag_zdrll},n="?month="+this.monthData+"&money="+this.highestData+"&month_money="+this.product.ag_zdrll;e.default.apiPost("/agent/debx",n,i,"post",function(i,n){i?(a.calculateData=n.data,a.Ring.series[0].data=a.calculateData.hkTotal,a.Ring.series[3].data=a.calculateData.lxTotal,a.showRing("canvasRing",a.Ring,a.calculateData.hkTotal)):t.showToast({title:"数据获取失败",icon:"none",duration:2e3})})},productQuery:function(a){t.navigateTo({url:"/pages/details/details?id="+a})},yaoqzq:function(){t.navigateTo({url:"/pages/exclusive/exclusive"})},pleaseKG:function(){t.navigateTo({url:"/pages/applyfor/applyfor?id="+this.productID})},showRing:function(t,a,i){new o.default({canvasId:t,type:"ring",fontSize:11,legend:!1,title:{name:"总还款金额(元)",color:"#666666",fontSize:11*n.pixelRatio},subtitle:{name:i,color:"#555555",fontSize:18*n.pixelRatio},extra:{ringWidth:8*n.pixelRatio,pie:{offsetAngle:-45}},background:"#FFFFFF",pixelRatio:n.pixelRatio,series:a.series,animation:!0,width:n.cWidth*n.pixelRatio,height:n.cHeight*n.pixelRatio,disablePieStroke:!0,dataLabel:!1})}}};a.default=u}).call(this,i("6e42")["default"])},9596:function(t,a,i){"use strict";var n=function(){var t=this,a=t.$createElement,n=(t._self._c,i("2803")),e=i("802a"),o=i("0cd6"),s=i("619e"),u=i("0cd6"),l=i("b805"),r=i("0cd6"),c=i("aebf");t.$mp.data=Object.assign({},{$root:{m0:n,m1:e,m2:o,m3:s,m4:u,m5:l,m6:r,m7:c}})},e=[];i.d(a,"a",function(){return n}),i.d(a,"b",function(){return e})},a0c3:function(t,a,i){"use strict";i.r(a);var n=i("8ebf"),e=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(a,t,function(){return n[t]})}(o);a["default"]=e.a}},[["4a6d","common/runtime","common/vendor"]]]);